@import "tailwindcss";
@import "../styles/tokens.css";
@import "mapbox-gl/dist/mapbox-gl.css";

@layer base {
  /* Legacy CSS variable aliases for backward compatibility */
  :root {
    --apsonic-green: var(--color-primary);
    --apsonic-green-dark: var(--color-primary-dark);
    --apsonic-ink: var(--color-ink);
    --apsonic-surface: var(--color-surface);
    --apsonic-surface-alt: var(--color-surface-alt);
    --apsonic-accent: var(--color-primary-light);
    --apsonic-border: var(--color-border);
    --apsonic-text: var(--color-text-primary);
    --apsonic-muted: var(--color-text-secondary);
  }
  
  html {
    overflow-x: hidden;
    width: 100%;
  }

  body {
    background-color: var(--color-ink);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    min-height: 100vh;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }

  ::selection {
    background-color: var(--color-primary);
    color: var(--color-text-inverse);
  }
  
  /* Accessibility: Skip to main content link */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary);
    color: var(--color-text-inverse);
    padding: var(--spacing-2) var(--spacing-4);
    text-decoration: none;
    z-index: var(--z-tooltip);
    border-radius: var(--radius-md);
  }
  
  .skip-to-content:focus {
    top: var(--spacing-2);
    left: var(--spacing-2);
  }
}

/* Smooth scrolling with respect for reduced motion */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}
